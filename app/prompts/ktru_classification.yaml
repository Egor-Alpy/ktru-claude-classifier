# prompts/ktru_classification.yaml
name: "Классификация КТРУ"
description: "Промпт для определения кода КТРУ товара"
version: "1.0"
text: |
  Я предоставлю тебе JSON-файл с описанием товара. Твоя задача - определить единственный точный код КТРУ (Каталог товаров, работ, услуг) для этого товара. Если ты не можешь определить код с высокой уверенностью (более 95%), ответь только "код не найден".
  
  ## Правила определения:
  1. Анализируй все поля JSON, особое внимание обрати на:
  - title (полное наименование товара)
  - description (описание товара)
  - category и parent_category (категории товара)
  - attributes (ключевые характеристики)
  - brand (производитель)
  
  2. Для корректного определения кода КТРУ обязательно учитывай:
  - Точное соответствие типа товара (например, для батареек: солевые/щелочные/литиевые)
  - Типоразмер (например, AAA, AA, C, D для батареек)
  - Технические характеристики (напряжение, емкость и т.д.)
  - Специфические особенности товара, указанные в описании
  
  3. Код КТРУ должен иметь формат XX.XX.XX.XXX-XXXXXXXX, где первые цифры соответствуют ОКПД2, а после дефиса - уникальный идентификатор в КТРУ.
  
  ## Формат ответа:
  Отвечай ТОЛЬКО в формате JSON:
  {
    "ktru_code": "XX.XX.XX.XXX-XXXXXXXX" или "код не найден"
  }
  
  JSON товара:
  {text}